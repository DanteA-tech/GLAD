---
toc: true
comments: false
layout: post
title: Text to Color Converter
type: tangibles
courses: { compsci: {week: 2} }
---
<html>
<head>
  <style>
    #colorDisplay {
      width: 500px; 
      height: 100px; 
      border: 1px solid #000;
    }
  </style>
</head>
<body>
  <input type="text" id="textInput" placeholder="Enter text">
  <button onclick="convertText()">Convert</button>
  <div id="colorDisplay"></div>

  <script>
    function textToBinary(text) {
      let binary = '';
      for (let i = 0; i < text.length; i++) {
        let charBinary = text[i].charCodeAt(0).toString(2);
        while (charBinary.length < 8) {
          charBinary = '0' + charBinary;
        }
        binary += charBinary;
      }
      return binary;
    }

    function binaryToRGB(binary) {
      let rgbValues = [];
      for (let i = 0; i < binary.length; i += 24) {
        let r = parseInt(binary.substring(i, i + 8), 2);
        let g = parseInt(binary.substring(i + 8, i + 16), 2);
        let b = parseInt(binary.substring(i + 16, i + 24), 2);
        rgbValues.push([r, g, b]);
      }
      return rgbValues;
    }

    function displayColor(rgbValues) {
      const canvas = document.createElement('canvas');
      canvas.width = rgbValues.length * 10; 
      canvas.height = 50; 
      const c = canvas.getContext('2d');
      for (let i = 0; i < rgbValues.length; i++) {
        c.fillStyle = `rgb(${rgbValues[i][0]}, ${rgbValues[i][1]}, ${rgbValues[i][2]})`;
        c.fillRect(i * 10, 0, 10, 50);
      }
      const colorDisplay = docume
      nt.getElementById('colorDisplay');
      colorDisplay.innerHTML = '';
      colorDisplay.appendChild(canvas);
    }

    function convertText() {
      const inputText = document.getElementById('textInput').value;
      const binaryText = textToBinary(inputText);
      const rgbValues = binaryToRGB(binaryText);
      displayColor(rgbValues);
    }
  </script>
  
</body>
<body>
  <input type="text" id="textInput" placeholder="Enter text">
  <button onclick="convertText()">Convert</button>
  <button onclick="downloadImage()">Download Image</button>
  <input type="file" id="fileInput" style="display: none;" onchange="decryptImage(event)">
  <div id="colorDisplay"></div>

  <script>
    // Original functions (textToBinary, binaryToRGB, displayColor, convertText) remain unchanged

    function downloadImage() {
      const canvas = document.querySelector('canvas');
      const dataURL = canvas.toDataURL(); // Get image data as base64 URL
      const a = document.createElement('a');
      a.href = dataURL;
      a.download = 'color_image.png'; // Set filename for download
      a.click();
    }

    function decryptImage(event) {
      const file = event.target.files[0];
      const reader = new FileReader();
      reader.onload = function (e) {
        const image = new Image();
        image.onload = function () {
          const canvas = document.createElement('canvas');
          canvas.width = image.width;
          canvas.height = image.height;
          const ctx = canvas.getContext('2d');
          ctx.drawImage(image, 0, 0);
          const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height).data;

          let binaryString = '';
          for (let i = 0; i < imageData.length; i += 4) {
            const r = imageData[i];
            const g = imageData[i + 1];
            const b = imageData[i + 2];
            
            binaryString += ('00000000' + r.toString(2)).slice(-8);
            binaryString += ('00000000' + g.toString(2)).slice(-8);
            binaryString += ('00000000' + b.toString(2)).slice(-8);
          }

          let text = '';
          for (let i = 0; i < binaryString.length; i += 8) {
            const byte = binaryString.substr(i, 8);
            text += String.fromCharCode(parseInt(byte, 2));
          }

          document.getElementById('textInput').value = text;
        };
        image.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }
  </script>
</body>
</html>
<p>
Improvments: Do horizontal show correlation between the letters and color.
</p>