---
toc: True
comments: False
layout: post
title: RGB adjuster
description: adjust the rgb of a photo
type: plans
courses: {'compsci': {'week': 0}}
---

<h1>Adjust RGB Values of an Image</h1>
<input type="file" id="imageInput" accept="image/*">
<br><br>
<canvas id="canvas"></canvas>
<br>
<button id="toggleMode">Switch to Color Wheels</button>
<br><br>

<!-- RGB Sliders -->
<div id="rgbSliders">
    <label for="redSlider">Red:</label>
    <input type="range" id="redSlider" class="slider" min="-255" max="255" value="0">
    <span id="redBinary">00000000</span>
    <span id="redHex">#00</span>
    <br>
    <label for="greenSlider">Green:</label>
    <input type="range" id="greenSlider" class="slider" min="-255" max="255" value="0">
    <span id="greenBinary">00000000</span>
    <span id="greenHex">#00</span>
    <br>
    <label for="blueSlider">Blue:</label>
    <input type="range" id="blueSlider" class="slider" min="-255" max="255" value="0">
    <span id="blueBinary">00000000</span>
    <span id="blueHex">#00</span>
    <br>
</div>

<!-- Color Wheels -->
<div id="colorWheels" style="display:none;">
    <canvas id="redWheel" width="200" height="200"></canvas>
    <canvas id="greenWheel" width="200" height="200"></canvas>
    <canvas id="blueWheel" width="200" height="200"></canvas>
</div>

<style>
    .slider {
        width: 300px;
    }
    canvas {
        border: 1px solid #000;
        margin: 5px;
    }
</style>

<script>
    let originalImageData = null;
    document.getElementById('imageInput').addEventListener('change', function(e) {
        const file = e.target.files[0];
        const reader = new FileReader();
        reader.onload = function(e) {
            const img = new Image();
            img.onload = function() {
                processImage(img);
            }
            img.src = e.target.result;
        }
        reader.readAsDataURL(file);
    });

    function processImage(img) {
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = img.width;
        canvas.height = img.height;
        ctx.drawImage(img, 0, 0, img.width, img.height);
        originalImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
        document.getElementById('redSlider').addEventListener('input', updateImage);
        document.getElementById('greenSlider').addEventListener('input', updateImage);
        document.getElementById('blueSlider').addEventListener('input', updateImage);
        updateImage(); // Initial call to set binary and hex values
    }

    function updateImage() {
        const redChange = parseInt(document.getElementById('redSlider').value);
        const greenChange = parseInt(document.getElementById('greenSlider').value);
        const blueChange = parseInt(document.getElementById('blueSlider').value);
        document.getElementById('redBinary').textContent = decimalToBinary(redChange + 128);
        document.getElementById('greenBinary').textContent = decimalToBinary(greenChange + 128);
        document.getElementById('blueBinary').textContent = decimalToBinary(blueChange + 128);
        document.getElementById('redHex').textContent = decimalToHex(redChange + 128);
        document.getElementById('greenHex').textContent = decimalToHex(greenChange + 128);
        document.getElementById('blueHex').textContent = decimalToHex(blueChange + 128);
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const imageData = ctx.createImageData(originalImageData);
        for (let i = 0; i < imageData.data.length; i += 4) {
            imageData.data[i] = clamp(originalImageData.data[i] + redChange, 0, 255); // Red
            imageData.data[i + 1] = clamp(originalImageData.data[i + 1] + greenChange, 0, 255); // Green
            imageData.data[i + 2] = clamp(originalImageData.data[i + 2] + blueChange, 0, 255); // Blue
            imageData.data[i + 3] = originalImageData.data[i + 3]; // Alpha
        }
        ctx.putImageData(imageData, 0, 0);
    }

    function decimalToBinary(decimal) {
        return (parseInt(decimal).toString(2)).padStart(8, '0');
    }

    function decimalToHex(decimal) {
        return "#" + (parseInt(decimal).toString(16)).padStart(2, '0').toUpperCase();
    }

    function clamp(value, min, max) {
        return Math.min(Math.max(value, min), max);
    }

    // Toggle between sliders and color wheels
    document.getElementById('toggleMode').addEventListener('click', function() {
        let sliders = document.getElementById('rgbSliders');
        let wheels = document.getElementById('colorWheels');
        if (sliders.style.display === "none") {
            sliders.style.display = "block";
            wheels.style.display = "none";
            this.textContent = "Switch to Color Wheels";
        } else {
            sliders.style.display = "none";
            wheels.style.display = "block";
            this.textContent = "Switch to RGB Sliders";
        }
    });

    // Color wheel drawing and selection logic
    function drawColorWheel(canvasId, hue) {
        let canvas = document.getElementById(canvasId);
        let ctx = canvas.getContext('2d');
        let radius = canvas.width / 2;

        for (let i = 0; i < 360; i++) {
            ctx.beginPath();
            ctx.arc(radius, radius, radius, (i - 1) * Math.PI / 180, i * Math.PI / 180);
            ctx.lineTo(radius, radius);
            ctx.fillStyle = 'hsl(' + hue + ', 100%, ' + i / 360 * 100 + '%)';
            ctx.fill();
        }
    }

    drawColorWheel('redWheel', 0); // Red hue
    drawColorWheel('greenWheel', 120); // Green hue
    drawColorWheel('blueWheel', 240); // Blue hue

    // Function to get color from the color wheel
    function getColorFromWheel(canvas, event) {
        let rect = canvas.getBoundingClientRect();
        let x = event.clientX - rect.left;
        let y = event.clientY - rect.top;
        let ctx = canvas.getContext('2d');
        let pixel = ctx.getImageData(x, y, 1, 1).data;
        return {r: pixel[0], g: pixel[1], b: pixel[2]};
    }

    // Event listeners for color wheel canvases
    document.getElementById('redWheel').addEventListener('click', function(event) {
        let color = getColorFromWheel(this, event);
        document.getElementById('redSlider').value = color.r - 128;
        updateImage();
    });

    document.getElementById('greenWheel').addEventListener('click', function(event) {
        let color = getColorFromWheel(this, event);
        document.getElementById('greenSlider').value = color.g - 128;
        updateImage();
    });

    document.getElementById('blueWheel').addEventListener('click', function(event) {
        let color = getColorFromWheel(this, event);
        document.getElementById('blueSlider').value = color.b - 128;
        updateImage();
    });
</script>


[Link to diagram](https://www.canva.com/design/DAF0ZX4zNkI/DR0YYSGv-e8poyAj01OGEA/edit?utm_content=DAF0ZX4zNkI&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton)